<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css"> 
    <link rel="stylesheet" href="font.css"> 
    <title>Мобильная версия сайта</title>
</head>
<body class="main-body">

<header>
    <div class="header-content">
        <div class="time" id="userTime"></div>
    </div>
    <img id="batteryIcon" class="battery-icon" src="battery/battery4.png" alt="Battery Icon">
</header>

<div class="profile-top">
    <img src="mini/3D.png" alt="Profile Picture" style="height: 100%; max-height: 36px;"/> 
    <span id="projectTitle" style="font-size: 23px; font-family: 'W95FA', sans-serif; height: 100%; display: flex; align-items: center;">3D projects</span> 
    <a href="index.html" class="close-btn"><img src="button/close.png" alt="Close" style="height: 100%; max-height: 36px;"/></a> 
</div>

<div class="separator white-separator"></div>

<div class="mail-section">
    <span class="mail-title" onclick="location.href='mail.html';">Mail</span> 
</div>

<div class="pink-separator separator"></div>

</div>
<div class="photo-container">
    <img id="displayImage" class="displayed-image" src="3D/img1.jpg" alt="3D Project Image">
    <video id="displayVideo" controls style="max-width: 100%; max-height: 100%; display: none;"></video>
</div>


<div class="top-separator">
    <button class="nav-button" onclick="showPreviousImage()">
        <img src="button/back_button.png" alt="Назад">
    </button>
    <button class="nav-button" id="toggleSizeButton" onclick="toggleImageSize()">
        <img src="button/bigger.png" alt="Увеличить" id="sizeImage">
    </button>
    <button class="nav-button" onclick="showNextImage()">
        <img src="button/next_button.png" alt="Вперед">
    </button>
</div>
<div id="projectTitle"></div>

<div class="bottom-footer">

    
</div>

<script>
    const images = [
        {src: '3D/img1.png', title: 'Nastya’s interior'},
        {src: '3D/img2.png', title: 'Nastya’s interior'},
        {src: '3D/img3.png', title: 'Nastya’s robot'},
        {src: '3D/img4.mp4', title: 'Nastya’s robot'}, 
        {src: '3D/img5.png', title: 'Nastya’s robot'},
        {src: '3D/img6.png', title: 'Nastya’s robot'},
        {src: '3D/img7.png', title: 'Olesya’s interior'},
        {src: '3D/img8.png', title: 'Olesya’s interior'},
        {src: '3D/img9.mp4', title: 'Olesya’s robot'},
        {src: '3D/img10.png', title: 'Olesya’s robot'},
        {src: '3D/img11.png', title: 'Olesya’s robot'},
        {src: '3D/img12.png', title: 'Olesya’s robot'},
    ];

    let currentIndex = 0;
    let isZoomed = false;

    function updateImage() {
        const item = images[currentIndex];
        const imgElement = document.getElementById('displayImage');
        const videoElement = document.getElementById('displayVideo');
        
        if (item.src.endsWith('.mp4')) {
            imgElement.style.display = 'none'; 
            videoElement.style.display = 'block'; 
            videoElement.src = item.src;
            videoElement.play(); 
        } else {
            imgElement.style.display = 'block'; 
            videoElement.style.display = 'none'; 
            imgElement.src = item.src;
        }
        
        document.getElementById('projectTitle').innerText = `${item.title} - Gallery`;

        imgElement.style.transform = 'scale(1)';
        imgElement.style.width = 'auto'; 
        imgElement.style.height = 'auto'; 
        imgElement.style.maxHeight = '100%'; 
        imgElement.style.maxWidth = '100%'; 
        imgElement.style.objectFit = 'contain';

        videoElement.style.transform = 'scale(1)';
        videoElement.style.width = 'auto'; 
        videoElement.style.height = 'auto'; 
        videoElement.style.maxHeight = '100%'; 
        videoElement.style.maxWidth = '100%';
        
        isZoomed = false;
        document.getElementById('sizeImage').src = 'button/bigger.png';
    }

    function showNextImage() {
        currentIndex = (currentIndex + 1) % images.length;
        updateImage();
    }

    function showPreviousImage() {
        currentIndex = (currentIndex - 1 + images.length) % images.length;
        updateImage();
    }

    function toggleImageSize() {
        const imgElement = document.getElementById('displayImage');
        const videoElement = document.getElementById('displayVideo');

        if (isZoomed) {
            imgElement.style.transform = 'scale(1)';
            videoElement.style.transform = 'scale(1)';
            imgElement.style.width = 'auto';
            imgElement.style.height = 'auto';
            videoElement.style.width = 'auto';
            videoElement.style.height = 'auto';
            imgElement.style.maxHeight = '100%';
            imgElement.style.maxWidth = '100%';
            videoElement.style.maxHeight = '100%';
            videoElement.style.maxWidth = '100%';
        } else {
            imgElement.style.transform = 'scale(2)';
            videoElement.style.transform = 'scale(2)';
            imgElement.style.maxWidth = 'none';
            imgElement.style.maxHeight = 'none';
            videoElement.style.maxWidth = 'none';
            videoElement.style.maxHeight = 'none';
        }

        imgElement.style.objectFit = 'contain';
        videoElement.style.objectFit = 'contain';
        isZoomed = !isZoomed;
    }

    updateImage(); 
</script>
<script src="script.js"></script> 
</body>
</html>