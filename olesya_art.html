<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css"> 
    <link rel="stylesheet" href="font.css"> 
    <title>3D проекты</title>
</head>
<body class="main-body">

<header class="header">
    <div class="header__content">
        <div class="header__time" id="userTime"></div>
    </div>
    <img id="batteryIcon" class="header__battery-icon" src="battery/battery4.png" alt="Иконка батареи">
</header>

<div class="profile-top">
    <img src="mini/nastya.png" alt="Изображение профиля" class="profile-top__image" style="height: 100%; max-height: 36px;"/> 
    <span id="projectTitle" class="profile-top__title" style="font-size: 23px; font-family: 'W95FA', sans-serif; height: 100%; display: flex; align-items: center;">Nastya’s art</span> 
    <a href="index.html" class="profile-top__close-btn"><img src="button/close.png" alt="Закрыть" class="profile-top__close-icon" style="height: 100%; max-height: 36px;"/></a> 
</div>

<div class="separator separator--white"></div>

<div class="mail-section">
    <span class="mail-section__title mail-title" onclick="location.href='mail.html';">Mail</span> 
</div>

<div class="separator separator--pink"></div>

<div class="photo-container">
    <img id="displayImage" class="photo-container__displayed-image" src="Olesya/img1.png" alt="Изображение 3D проекта">
</div>

<div class="top-separator">
    <button class="top-separator__nav-button" onclick="showPreviousImage()">
        <img src="button/back_button.png" alt="Назад">
    </button>
    <button class="top-separator__nav-button" id="toggleSizeButton" onclick="toggleImageSize()">
        <img src="button/bigger.png" alt="Увеличить" id="sizeImage">
    </button>
    <button class="top-separator__nav-button" onclick="showNextImage()">
        <img src="button/next_button.png" alt="Вперед">
    </button>
</div>
    
</div>
<script>
    const images = [
        {src: 'Olesya/img1.png', title: 'My groupmates', alt: 'Группа студентов, улыбающихся и позирующих для фото'},
        {src: 'Olesya/img2.png', title: 'Little witch', alt: 'Маленькая ведьма в костюме с волшебной палочкой на фоне леса'},
        {src: 'Olesya/img3.png', title: 'grunge girl', alt: 'Девушка в гранжевом стиле, одетая в черную одежду с ярким макияжем'},
        {src: 'Olesya/img4.png', title: 'Girl redraw', alt: 'Переосмысленный рисунок девушки с художественными эффектами'},
        {src: 'Olesya/img5.png', title: 'Tired Woman', alt: 'Уставшая женщина с легким выражением грусти на лице'},
        {src: 'Olesya/img6.png', title: 'Don’t Touch Me', alt: 'Женщина с выражением недовольства, показывающая жест не трогать ее'},
        {src: 'Olesya/img7.png', title: 'Shiny Girl', alt: 'Девушка с сияющей кожей и ярким макияжем, улыбающаяся на фото'},
        {src: 'Olesya/img8.png', title: 'Just a portrait', alt: 'Портрет девушки с нейтральным выражением лица и мягким фоном'},
    ];

    let currentIndex = 0;
    let isZoomed = false;

    function updateImage() {
        const image = images[currentIndex];
        const imgElement = document.getElementById('displayImage');
        imgElement.src = image.src;
        document.getElementById('projectTitle').innerText = `${image.title} - Gallery`;
        
        imgElement.style.transform = 'scale(1)'; 
        imgElement.style.width = 'auto'; 
        imgElement.style.height = 'auto'; 
        imgElement.style.maxHeight = '100%'; 
        imgElement.style.maxWidth = '100%'; 
        imgElement.style.objectFit = 'contain'; 
        
        isZoomed = false;
        document.getElementById('sizeImage').src = 'button/bigger.png';
    }

    function showNextImage() {
        currentIndex = (currentIndex + 1) % images.length;
        updateImage();
    }

    function showPreviousImage() {
        currentIndex = (currentIndex - 1 + images.length) % images.length;
        updateImage();
    }

    function toggleImageSize() {
        const imgElement = document.getElementById('displayImage');

        if (isZoomed) {
            
            imgElement.style.transform = 'scale(1)';
            imgElement.style.width = 'auto';
            imgElement.style.height = 'auto';
            imgElement.style.maxHeight = '100%';
            imgElement.style.maxWidth = '100%';
        } else {
           
            imgElement.style.transform = 'scale(2)';
            imgElement.style.width = 'auto'; 
            imgElement.style.height = 'auto';
            imgElement.style.maxWidth = 'none'; 
            imgElement.style.maxHeight = 'none'; 
        }

        imgElement.style.objectFit = 'contain'; 
        isZoomed = !isZoomed;
    }

    updateImage(); 
</script>

<!-- <script>
    const images = [
        {src: 'Olesya/img1.png', title: 'My groupmates'},
        {src: 'Olesya/img2.png', title: 'Little witch'},
        {src: 'Olesya/img3.png', title: 'grunge girl'},
        {src: 'Olesya/img4.png', title: 'Girl redraw'},
        {src: 'Olesya/img5.png', title: 'Tired Woman'},
        {src: 'Olesya/img6.png', title: 'Don’t Touch Me'},
        {src: 'Olesya/img7.png', title: 'Shiny Girl'},
        {src: 'Olesya/img8.png', title: 'Just a portait'},

    ];

    let currentIndex = 0;
    let isZoomed = false;
    let isDragging = false; // Флаг для отслеживания, перетаскивается ли изображение
    let startX, startY, initialTouchX, initialTouchY; // Позиции для перетаскивания

    function updateImage() {
        const image = images[currentIndex];
        const imgElement = document.getElementById('displayImage');
        imgElement.src = image.src;
        document.getElementById('projectTitle').innerText = `${image.title} - Gallery`;

        // Сброс размера изображения при обновлении
        imgElement.style.transform = 'scale(1)';
        imgElement.style.cursor = 'default'; // Устанавливаем курсор по умолчанию
        isZoomed = false; 
        document.getElementById('sizeImage').src = 'button/bigger.png'; 
    }

    function showNextImage() {
        currentIndex = (currentIndex + 1) % images.length;
        updateImage();
    }

    function showPreviousImage() {
        currentIndex = (currentIndex - 1 + images.length) % images.length;
        updateImage();
    }

    function toggleImageSize() {
        const imgElement = document.getElementById('displayImage');
        const sizeImage = document.getElementById('sizeImage');

        if (isZoomed) {
            imgElement.style.transform = 'scale(1)';
            imgElement.style.cursor = 'default'; // Устанавливаем курсор по умолчанию
            sizeImage.src = 'button/bigger.png'; 
        } else {
            imgElement.style.transform = 'scale(2)';
            imgElement.style.cursor = 'grab'; // Устанавливаем курсор для перетаскивания
            sizeImage.src = 'button/smaller.png'; 

            // Устанавливаем начальные значения для перетаскивания
            startX = imgElement.offsetLeft;
            startY = imgElement.offsetTop;
        }
        isZoomed = !isZoomed;
    }

    // Обработка перемещения изображения
    const imgElement = document.getElementById('displayImage');

    imgElement.addEventListener('touchstart', (e) => {
        if (isZoomed) {
            isDragging = true;
            initialTouchX = e.touches[0].clientX; // Позиция касания
            initialTouchY = e.touches[0].clientY; // Позиция касания
        }
    });

    imgElement.addEventListener('touchmove', (e) => {
        if (isDragging) {
            const dx = e.touches[0].clientX - initialTouchX;
            const dy = e.touches[0].clientY - initialTouchY;

            // Новые позиции изображения
            const newLeft = startX + dx;
            const newTop = startY + dy;

            // Получение ширины и высоты изображения
            const imgWidth = imgElement.offsetWidth;
            const imgHeight = imgElement.offsetHeight;

            // Предполагаемая ширина окна экрана
            const screenWidth = window.innerWidth;
            const screenHeight = window.innerHeight;

            // Проверка ограничения
            if (newLeft > 0 && newLeft < (screenWidth - imgWidth * 2) && // Учитываем увеличенный размер
                newTop > 0 && newTop < (screenHeight - imgHeight * 2)) {
                imgElement.style.left = newLeft + 'px';
                imgElement.style.top = newTop + 'px';
            }
        }
    });

    imgElement.addEventListener('touchend', () => {
        isDragging = false;
        startX = imgElement.offsetLeft; 
        startY = imgElement.offsetTop; 
    });

    updateImage(); // Инициализируем изображение при загрузке
</script> -->
<script src="script.js"></script> 
</body>
</html>